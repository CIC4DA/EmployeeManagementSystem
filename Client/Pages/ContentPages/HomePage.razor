@page "/home/dashboard"
@using Client.Pages.Department_Pages

<TableBanner />
<GeneralDepartmentPage />

@code {
	[CascadingParameter]
	public Task<AuthenticationState> AuthenticationState { get; set; }

	protected async override Task OnInitializedAsync()
	{
		await CheckUserAuthenticationState();
	}

	private async Task CheckUserAuthenticationState()
	{
		var user = (await AuthenticationState).User;
		bool isUserAuthenticated = user.Identity!.IsAuthenticated;
		if (!isUserAuthenticated)
			NavManager.NavigateTo("/identity/account/login");
	}
}
